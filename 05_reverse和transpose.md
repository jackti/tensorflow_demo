## tf.reverse的用法

`reverse(tensor, axis, name=None)` 

沿着某个维度axis对张量tensor进行反转。参数的含义

tensor：需要进行反转的张量；

axis：需要进行反转的维度，必须是一个列表。

```PYTHON
x = tf.constant([1, 2, 3, 4])
y = tf.reverse(x, axis=[0])  # [4 3 2 1]

a = tf.constant([[1, 2, 3, 4], [4, 5, 6, 7]])
b = tf.reverse(a, axis=[0, 1])
-----------------------------------------------
[[7 6 5 4]
 [4 3 2 1]]
[[[[20 21 22 23]
   [16 17 18 19]
   [12 13 14 15]]
  

t = tf.constant([[[[0, 1, 2, 3],
                   [4, 5, 6, 7],
                   [8, 9, 10, 11]],

                  [[12, 13, 14, 15],
                   [16, 17, 18, 19],
                   [20, 21, 22, 23]]]])
c = tf.reverse(t, axis=[1, 2])
------------------------------------------------
  [[[[20 21 22 23]
   [16 17 18 19]
   [12 13 14 15]]

  [[ 8  9 10 11]
   [ 4  5  6  7]
   [ 0  1  2  3]]]]

```



## (2)tf.transpose的用法

`tf.transpose(a, perm = None, name = 'transpose')`

将a进行转置，并且根据perm参数重新排列输出维度。

输出数据tensor的第i维将根据perm[i]指定。比如，如果perm没有给定，那么默认是perm = [n-1, n-2, ..., 0]，其中rank(a) = n。默认情况下，对于二维输入数据，其实就是常规的矩阵转置操作。

图像处理时数据集中存储数据的形式为[channel,image_height,image_width],在tensorflow中使用CNN时我们需要将其转化为[image_height,image_width,channel]的形式，只需要使用tf.transpose(input_data,[1,2,0])

```
a = tf.constant([[1, 2, 3], [4, 5, 6]])
b = tf.transpose(a)
c = tf.transpose(a, perm=[0, 1])
d = tf.transpose(a, perm=[1, 0])
-------------------------------------
其中b和d是一样的，对矩阵进行转置操作
[[1 4]
 [2 5]
 [3 6]]

[[1 2 3]
 [4 5 6]]

[[1 4]
 [2 5]
 [3 6]]
 --------------------------------------
 x = tf.constant([
    [
        [1, 2, 3, 4],
        [5, 6, 7, 8],
        [5, 6, 7, 8]
    ],
    [
        [9, 12, 13, 14],
        [15, 16, 17, 18],
        [5, 6, 7, 8]
    ]
])

#x的shape为(2,3,4)
y = tf.transpose(x, perm=[1, 2, 0])  # y输出的shape为(3,4,2)
[[[ 1  9]
  [ 2 12]
  [ 3 13]
  [ 4 14]]

 [[ 5 15]
  [ 6 16]
  [ 7 17]
  [ 8 18]]

 [[ 5  5]
  [ 6  6]
  [ 7  7]
  [ 8  8]]]
```



